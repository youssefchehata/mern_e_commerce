{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Form,Button,Row,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{Loader}from'../components/Loader';import{Message}from'../components/Message';import{listOrders}from'../store/actions/orderActions';var OrderListScreen=function OrderListScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,error=orderList.error,orders=orderList.orders;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listOrders());}else{history.push(\"/login\");}},[dispatch,history,userInfo]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsxs(Message,{children:[error,\" \"]}):/*#__PURE__*/_jsx(\"table\",{className:\"table table-striped table-hover table-bordered  table-sm \",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"DELIVERED\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(el){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:el._id}),/*#__PURE__*/_jsx(\"td\",{children:el.user&&el.user.name}),/*#__PURE__*/_jsx(\"td\",{children:el.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(\"td\",{children:el.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:el.isPaid?el.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:el.isDelivered?el.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/order/\".concat(el._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-white btn-sm\",children:\"Details\"})})})]},el._id);})})]})})})]});};export default OrderListScreen;","map":{"version":3,"sources":["/home/youssef/Documents/workSpace/mern_e_commerce/frontend/src/screens/OrderListScreen.js"],"names":["React","useState","useEffect","Link","Form","Button","Row","Col","useDispatch","useSelector","Loader","Message","listOrders","OrderListScreen","history","dispatch","orderList","state","loading","error","orders","userLogin","userInfo","isAdmin","push","map","el","_id","user","name","createdAt","substring","totalPrice","isPaid","paidAt","color","isDelivered","deliveredAt"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Row, Col } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '../components/Loader';\nimport { Message } from '../components/Message';\nimport { listOrders } from '../store/actions/orderActions';\n\nconst OrderListScreen = ({ history }) => {\n  const dispatch = useDispatch();\n\n  const orderList = useSelector((state) => state.orderList);\n  const { loading, error, orders } = orderList;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listOrders());\n    } else {\n      history.push(`/login`);\n    }\n  }, [dispatch,history,userInfo]);\n\n  return (\n    <>\n      <h1>Orders</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message>{error} </Message>\n      ) : (\n        <table className='table table-striped table-hover table-bordered  table-sm '>\n          <div className='table-responsive'>\n            <table className='table align-middle'>\n              <thead>\n                <tr>\n                <th scope='col'></th>\n                  <th scope='col'>ID</th>\n                  <th scope='col'>USER</th>\n                  <th scope='col'>DATE</th>\n                  <th scope='col'>TOTAL</th>\n                  <th scope='col'>PAID</th>\n                  <th scope='col'>DELIVERED</th>\n                 \n                </tr>\n              </thead>\n              <tbody>\n                {orders.map((el) => (\n                  <tr key={el._id}>\n                    <th scope='row'>1</th>\n                    <td>{el._id}</td>\n                    <td>{el.user && el.user.name}</td>\n                    <td>{el.createdAt.substring(0,10)}</td>\n                    <td>{el.totalPrice}</td>\n         \n                    <td>\n                      {el.isPaid ? (\n                        el.paidAt.substring(0,10)\n                      ) : (\n                        <i\n                          className='fas fa-check'\n                          style={{ color: 'red' }}\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      {el.isDelivered ? (\n                        el.deliveredAt.substring(0,10)\n                      ) : (\n                        <i\n                          className='fas fa-check'\n                          style={{ color: 'red' }}\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      <Link to={`/order/${el._id}`}>\n                        <button type='button' className='btn btn-white btn-sm'>\n                         Details\n                        </button>\n                      </Link>\n               \n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </table>\n      )}\n    </>\n  );\n};\n\nexport default OrderListScreen;\n"]},"metadata":{},"sourceType":"module"}