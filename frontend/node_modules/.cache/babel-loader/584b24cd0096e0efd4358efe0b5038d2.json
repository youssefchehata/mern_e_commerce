{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Form,Button,Row,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{Loader}from'../components/Loader';import{Message}from'../components/Message';import{deleteUser,listUsers}from'../store/actions/userActions';var UserListScreen=function UserListScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var userList=useSelector(function(state){return state.userList;});var loading=userList.loading,error=userList.error,users=userList.users;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var userDelete=useSelector(function(state){return state.userDelete;});var successDelete=userDelete.success;useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{history.push(\"/login\");}},[dispatch,history,successDelete,userInfo]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure')){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsxs(Message,{children:[error,\" \"]}):/*#__PURE__*/_jsx(\"table\",{className:\"table table-striped table-hover table-bordered  table-sm \",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(el){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:el._id}),/*#__PURE__*/_jsx(\"td\",{children:el.name}),/*#__PURE__*/_jsxs(\"td\",{children:[' ',/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(el.email),children:el.email}),' ']}),/*#__PURE__*/_jsx(\"td\",{children:el.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/user/\".concat(el._id,\"/edit\"),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-white btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-sm\",onClick:function onClick(){deleteHandler(el._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},el._id);})})]})})})]});};export default UserListScreen;","map":{"version":3,"sources":["/home/youssef/Documents/workSpace/mern_e_commerce/frontend/src/screens/UserListScreen.js"],"names":["React","useState","useEffect","Link","Form","Button","Row","Col","useDispatch","useSelector","Loader","Message","deleteUser","listUsers","UserListScreen","history","dispatch","userList","state","loading","error","users","userLogin","userInfo","userDelete","successDelete","success","isAdmin","push","deleteHandler","id","window","confirm","map","el","_id","name","email","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Form, Button, Row, Col } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '../components/Loader';\nimport { Message } from '../components/Message';\nimport { deleteUser, listUsers } from '../store/actions/userActions';\n\nconst UserListScreen = ({ history }) => {\n  const dispatch = useDispatch();\n\n  const userList = useSelector((state) => state.userList);\n  const { loading, error, users } = userList;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const userDelete = useSelector((state) => state.userDelete);\n  const { success:successDelete } = userDelete;\n\n  useEffect(() => {\n    if (userInfo && userInfo.isAdmin) {\n      dispatch(listUsers());\n    } else {\n      history.push(`/login`);\n    }\n  }, [dispatch,history,successDelete,userInfo]);\n\n  const deleteHandler = (id) => {\n      if(window.confirm('Are you sure')){\n         dispatch(deleteUser(id))  \n      }\n  \n\n  };\n  return (\n    <>\n      <h1>Users</h1>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message>{error} </Message>\n      ) : (\n        <table className='table table-striped table-hover table-bordered  table-sm '>\n          <div className='table-responsive'>\n            <table className='table align-middle'>\n              <thead>\n                <tr>\n                  <th scope='col'>ID</th>\n                  <th scope='col'>NAME</th>\n                  <th scope='col'>EMAIL</th>\n                  <th scope='col'>ADMIN</th>\n                  <th scope='col'></th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((el) => (\n                  <tr key={el._id}>\n                    <th scope='row'>1</th>\n                    <td>{el._id}</td>\n                    <td>{el.name}</td>\n                    <td>\n                      {' '}\n                      <a href={`mailto:${el.email}`}>{el.email}</a>{' '}\n                    </td>\n                    <td>\n                      {el.isAdmin ? (\n                        <i\n                          className='fas fa-check'\n                          style={{ color: 'green' }}\n                        ></i>\n                      ) : (\n                        <i\n                          className='fas fa-check'\n                          style={{ color: 'red' }}\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      <Link to={`/admin/user/${el._id}/edit`}>\n                        <button type='button' className='btn btn-white btn-sm'>\n                          <i className='fas fa-edit'></i>\n                        </button>\n                      </Link>\n                      <button\n                        type='button'\n                        className='btn btn-danger btn-sm'\n                        onClick={() => {\n                          deleteHandler(el._id);\n                        }}\n                      >\n                        <i className='fas fa-trash'></i>\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </table>\n      )}\n    </>\n  );\n};\n\nexport default UserListScreen;\n"]},"metadata":{},"sourceType":"module"}